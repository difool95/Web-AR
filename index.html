<!DOCTYPE html>
<html>

<head>
    <title>Maginat</title>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
	<link rel="shortcut icon" type="image/png" href="./Nav.png">
	<style>
		@font-face {
    font-family: 'PassengerSans';
    font-style: normal;
    font-weight: normal;
    src: url('./fonts/PassengerSans-Light.woff2')
  }
@font-face {
    font-family: 'PassengerSans_bold';
    font-style: bold;
    font-weight: bold;
    src: url('./fonts/PassengerSans-Bold.woff2')
  }
  @font-face {
    font-family: 'PassengerSans_light';
    font-style: normal;
    font-weight: normal;
    src: url('./fonts/PassengerSans-Extralight.woff2')
  }
 .slider {
	-webkit-appearance: none;
	height: 75px;
	border-radius: 20px;
	background: #d3d3d3;
	outline: none;
	opacity: 0.7;
	-webkit-transition: .2s;
	transition: opacity .2s;
  }
  .slider:hover {
	opacity: 1;
  }
  .slider::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	width: 80px;
	height: 150px;
	border: 0;
	background-image:  url('./icons/tiles.png');
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
	cursor: pointer;
  }

  .slider::-moz-range-thumb {
	width:80px;
	height: 150px;
	border: 0;
	background-image: url('./icons/tiles.png');
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
	cursor: pointer;
  }
  p { margin:0 }
  body {
	touch-action: none;
}		
		 .tutoTransform{
	background-image: url('./icons/tiles.png');
	background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  }

  .tutoScale{
	background-image: url('./icons/arMode/Simulation.png');
	background-size: contain;
	background-position: center center;
	background-repeat: no-repeat;
	}

  .tutoTransformOkay{
	width:100px;
	height: 100px;
	background-image: url('./icons/tick.png');
	background-size: contain;
  }
</style>
</head>

<body style="background-color: #ffffff" onload="run();" onresize="resize();" oncontextmenu="return false;">
    <!--maginator lib-->
    <script type="text/javascript" src="./nunu.min.js"></script>
    <!--App code-->
    <script type="text/javascript">
    let url_str = window.location.href;
    let url = new URL(url_str);
    let search_params = url.searchParams;
    var id_maginat=search_params.get('id');
    var app;
    // Initialize app
    function run() {
        // Create app object
        app = new Nunu.App();
        // Onload enable the vr and fullscreen buttons
        var loading = document.getElementById("loading2");
        var onLoad = function() {
            // Check if VR is available
            if (app.vrAvailable()) {
                button = document.getElementById("vr");
                button.style.visibility = "visible";
            }

            // Check if AR is available
            if (app.arAvailable()) {
                button = document.getElementById("ArMode");
                button.style.visibility = "visible";
		//toggleAR();
		document.body.removeChild(loading);
            }
        };

        // On progress callback
        var bar = document.getElementById("bar");
        var onProgress = function(event) {
            if (event.lengthComputable) {
                var progress = event.loaded / event.total * 100;
                bar.style.width = progress + "%";
            }
        };
		app.loadRunProgram("./file.nsp", onLoad, onProgress);
    }

    // Resize app (must be called every time the window is resized)
    function resize() {
        app.resize();
    }

    // Toggle fullscreen mode
    function toggleFullscreen() {
        app.toggleFullscreen(document.body);
    }

    // Toggle VR mode
    function toggleVR() {
        app.toggleVR();
    }

    // Toggle AR mode
    function toggleAR() {
        app.toggleAR();
    }
    </script>
	<div class="foo">
		  <!--Fullscreen button-->
		  <!--<div id="fullscreen" onclick="toggleFullscreen();" style="visibility:hidden; position:absolute; z-index:10000; right:65px; bottom:65px">
			<img style="position:absolute; cursor:pointer; opacity:0.4; width:60px; height:60px" src="./fullscreen.png" onmouseenter="this.style.opacity = 1.0;" onmouseleave="this.style.opacity=0.4;">
		</div>-->
		<!--VR button-->
		<div id="vr" onclick="toggleVR();" style="visibility:hidden; position:absolute; z-index:10000; right: 225px; bottom:65px">
			<img style="position:absolute; cursor:pointer; opacity:0.4; width:60px; height:60px" src="./vr.png" onmouseenter="this.style.opacity = 1.0;" onmouseleave="this.style.opacity=0.4;">
		</div>
		<!--AR button-->
		<div id="ArMode" onclick="toggleAR();" style="visibility:hidden; position:absolute; z-index:10000; right: 145px; bottom:65px">
			<img style="position:absolute; cursor:pointer; opacity:0.4; width:60px; height:60px" src="./ar.png" onmouseenter="this.style.opacity = 1.0;" onmouseleave="this.style.opacity=0.4;">
		</div>
	 </div>
		<div id="loading2">
			<img id="loading-image" style="position:absolute; width:50%; left:25%;" src = "./Loading.gif" alt="Loading..." />
		</div>

</body>

</html>
