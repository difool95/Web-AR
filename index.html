<!DOCTYPE html>
<html>

<head>
    <title>Maginat</title>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
	<link rel="shortcut icon" type="image/png" href="./Nav.png">
	<style>
		@font-face {
    font-family: 'PassengerSans';
    font-style: normal;
    font-weight: normal;
    src: url('./fonts/PassengerSans-Light.woff2')
  }
@font-face {
    font-family: 'PassengerSans_bold';
    font-style: bold;
    font-weight: bold;
    src: url('./fonts/PassengerSans-Bold.woff2')
  }
  @font-face {
    font-family: 'PassengerSans_light';
    font-style: normal;
    font-weight: normal;
    src: url('./fonts/PassengerSans-Extralight.woff2')
  }
 .slider {
	-webkit-appearance: none;
	height: 75px;
	border-radius: 20px;
	background: #d3d3d3;
	outline: none;
	opacity: 0.7;
	-webkit-transition: .2s;
	transition: opacity .2s;
  }
  .slider:hover {
	opacity: 1;
  }
  .slider::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	width: 80px;
	height: 150px;
	border: 0;
	background-image:  url('./icons/tiles.png');
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
	cursor: pointer;
  }

  .slider::-moz-range-thumb {
	width:80px;
	height: 150px;
	border: 0;
	background-image: url('./icons/tiles.png');
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
	cursor: pointer;
  }
  p { margin:0 }
  body {
	touch-action: none;
}		
.tutoTransform{
	content:url('./icons/TRANSFORM.gif');
	background-size: contain;
  	background-position: center center;
  	background-repeat: no-repeat;
	  display: block;
	margin-left: auto;
	margin-right: auto;
  }

  .tutoScale{
	content:url('./icons/SCALE.gif');
	background-size: contain;
	background-position: center center;
	background-repeat: no-repeat;
	display: block;
	margin-left: auto;
	margin-right: auto;
	}

  .tutoTransformOkay{
	width: 10%;
	height: 10%;
	content:url('./icons/tick.png');
	background-size: contain;
	display: block;
	margin-left: auto;
	margin-right: auto;
  }
  .resetImage{
	content:url('./icons/Exit_buttons.png');
	background-size: contain;
	background-position: center center;
	background-repeat: no-repeat;
	display: block;
	margin-left: auto;
	margin-right: auto;
	}
	/* By default, hide the DOM Overlay element. */
#overlay {
  display: none;
}
/* Show the DOM Overlay element while active */
/* The overlay element has the :xr-overlay pseudoclass while active, 
      and we use this in CSS rules to show/hide UI. */
#overlay:xr-overlay {
  display: initial;
}
 #exit-ar {
  position: absolute;
  right: 40px;
  bottom: 40px;
  background: rgba(127, 127, 127, 0.25);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 6px 8px;
  font-weight: bold;
}
#prev {
  position: absolute;
  left: 10px;
  bottom: 40px;
  background: rgba(127, 127, 127, 0.25);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 6px 8px;
  font-weight: bold;
}
#play {
  position: absolute;
  left: 50px;
  bottom: 40px;
  background: rgba(127, 127, 127, 0.25);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 6px 8px;
  font-weight: bold;
}
#pause {
  position: absolute;
  left: 90px;
  bottom: 40px;
  background: rgba(127, 127, 127, 0.25);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 6px 8px;
  font-weight: bold;
}
#next {
  position: absolute;
  left: 130px;
  bottom: 40px;
  background: rgba(127, 127, 127, 0.25);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.25);
  padding: 6px 8px;
  font-weight: bold;
}
</style>
</head>

<body style="background-color: #ffffff" onload="run();" onresize="resize();" oncontextmenu="return false;">
    <!--maginator lib-->
    <script type="text/javascript" src="./nunu.min.js"></script>
    <!--App code-->
    <script type="text/javascript">
    let url_str = window.location.href;
    let url = new URL(url_str);
    let search_params = url.searchParams;
    var id_maginat=search_params.get('id');
    var app;
    // Initialize app
    function run() {
        // Create app object
        app = new Nunu.App();
        // Onload enable the vr and fullscreen buttons
        var loading = document.getElementById("loading2");
        var onLoad = function() {
            // Check if VR is available
            if (app.vrAvailable()) {
                button = document.getElementById("vr");
                button.style.visibility = "visible";
            }
	button = document.getElementById("ArMode");
                button.style.visibility = "visible";
		//toggleFullscreen();
	        //var resizeEvent = window.document.createEvent('UIEvents'); 
		//resizeEvent.initUIEvent('resize', true, false, window, 0); 
		//window.dispatchEvent(resizeEvent);
		document.body.removeChild(loading);
	 // Check if AR is available
            if (app.arAvailable()) {
               toggleAR();
            }
        };
	
        // On progress callback
        var bar = document.getElementById("bar");
        var onProgress = function(event) {
            if (event.lengthComputable) {
                var progress = event.loaded / event.total * 100;
                bar.style.width = progress + "%";
            }
        };
		app.loadRunProgram("./file.nsp", onLoad, onProgress);
    }

    // Resize app (must be called every time the window is resized)
    function resize() {
        app.resize();
    }

    // Toggle fullscreen mode
    function toggleFullscreen() {
        app.toggleFullscreen(document.body);
    }

    // Toggle VR mode
    function toggleVR() {
        app.toggleVR();
    }

    // Toggle AR mode
    function toggleAR() {
        app.toggleAR();
    }
    </script>
	 <div id="overlay">
      <button id="exit-ar">Exit AR</button>
      <button id="prev">&lt&lt</button>
      <button id="play">I&gt</button>
      <button id="pause">||</button>
      <button id="next">&gt&gt</button>
    </div>
	<div id="ArMode" onclick="toggleAR();" style="visibility:hidden; position:absolute; z-index:10000; right: 145px; bottom:65px">
			<img style="position:absolute; cursor:pointer; opacity:0.4; width:60px; height:60px" src="./ar.png" onmouseenter="this.style.opacity = 1.0;" onmouseleave="this.style.opacity=0.4;">
		</div>
		<div id="loading2">
			<img id="loading-image" style="position:absolute; width:50%; left:25%;" src = "./Loading.gif" alt="Loading..." />
		</div>
	
	 

</body>

</html>
